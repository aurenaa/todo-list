(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){localStorage.setItem(`task-${e.id}`,JSON.stringify(e))}function d(e){localStorage.setItem(`list-${e.id}`,JSON.stringify(e))}function o(e){const t=localStorage.getItem(`task-${e}`);return console.log("task stored:",t),t?JSON.parse(t):(console.log("Task not found in local storage."),null)}function c(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n.startsWith("task-")){const t=localStorage.getItem(n);e.push(JSON.parse(t))}}return e}function a(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n.startsWith("list-")){const t=localStorage.getItem(n);e.push(JSON.parse(t))}}return e}function l(e){localStorage.removeItem(`task-${e}`)}e.r(t),e.d(t,{fL:()=>a,Mi:()=>c,u0:()=>l,F0:()=>o,CZ:()=>d,b0:()=>n});class s{constructor(e,t,n,d,o,c,a=null){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.list=o,this.done=c,this.id=a}}function i(e){return null==e.id&&(e.id=function(){let e=-1;for(let t=0;t<localStorage.length;t++){const n=JSON.parse(localStorage.getItem(localStorage.key(t)));n&&n.id>e&&(e=n.id)}return e+1}()),n(e),e.id}function r(e,t){const d=c().find((t=>t.id===e));d?(d.done=t,n(d)):console.log("No task with that ID.")}function p(e,t){const n=a().find((t=>t.name===e));n?n.todos.includes(t)||(n.todos.push(t),d(n)):console.log("No list with that name.")}const m=class{constructor(e,t=[]){this.name=e,this.todos=t}},u=function(){const e=document.querySelector(".page-content");if(!e)return;if(document.querySelector(".list-form"))return;const t=document.createElement("div");t.classList.add("list-form"),e.appendChild(t);const n=document.createElement("div");n.classList.add("overlay");const o=document.createElement("div");o.classList.add("form-div-list");const c=document.createElement("form");c.classList.add("contact-form");const a=document.createElement("div");a.classList.add("btn-div"),c.appendChild(a);const l=document.createElement("button");l.classList.add("cancel-btn"),l.textContent="Cancel",a.appendChild(l);const s=document.createElement("button");s.classList.add("add-btn"),s.textContent="Add List",a.appendChild(s);const i=document.createElement("div");i.classList.add("name-div"),c.appendChild(i);const r=document.createElement("label");r.textContent="Name",r.setAttribute("for","name"),i.appendChild(r);const p=document.createElement("input");p.type="text",p.placeholder="Add name ...",p.id="name",i.appendChild(p),o.appendChild(c),n.appendChild(o),t.appendChild(n),l.addEventListener("click",(()=>{taskForm.remove()})),s.addEventListener("click",(()=>{let e=new m(p.value);var t;console.log(e),(t=e).id=function(){let e=-1;for(let t=0;t<localStorage.length;t++){const n=JSON.parse(localStorage.getItem(localStorage.key(t)));n&&n.id>e&&(e=n.id)}return e+1}(),d(t),f()}))},h=function(e,n){const d=document.querySelector(".page-content");if(!d)return;const o=document.createElement("div");o.classList.add("delete-todo"),d.appendChild(o);const c=document.createElement("div");c.classList.add("overlay"),d.appendChild(c);const a=document.createElement("h3");a.textContent="Confirmation?",o.appendChild(a),c.appendChild(o);const s=document.createElement("p");s.textContent="Are you sure you want to delete this task? This action cannot be undone.",o.appendChild(s);const i=document.createElement("div");i.classList.add("btn-div"),o.appendChild(i);const r=document.createElement("button");r.classList.add("cancel-btn"),r.textContent="Cancel",i.appendChild(r);const p=document.createElement("button");p.classList.add("delete-btn"),p.textContent="Delete",i.appendChild(p),r.addEventListener("click",(()=>{o.remove(),c.remove()})),p.addEventListener("click",(()=>{l(e);const d=(0,t.retrieveTask)(e).list;removeTaskFromList(d,e),n.remove(),c.remove()}))},C=function(e,t){const n=document.querySelector(".page-content");if(!n)return;const c=o(e);if(document.querySelector(".task-form"))return;const l=document.createElement("div");l.classList.add("task-form"),n.appendChild(l);const r=document.createElement("div");r.classList.add("overlay");const m=document.createElement("div");m.classList.add("form-div");const u=document.createElement("form");u.classList.add("contact-form");const h=document.createElement("div");h.classList.add("btn-div"),u.appendChild(h);const C=document.createElement("button");C.classList.add("cancel-btn"),C.textContent="Cancel",h.appendChild(C);const E=document.createElement("button");E.classList.add("edit-btn-form"),E.textContent="Edit",h.appendChild(E);const v=document.createElement("div");v.classList.add("title-div"),u.appendChild(v);const L=document.createElement("label");L.textContent="Title",L.setAttribute("for","title"),v.appendChild(L);const b=document.createElement("input");b.type="text",b.placeholder=c.title,b.id="title",v.appendChild(b);const y=document.createElement("div");y.classList.add("description-div"),u.appendChild(y);const g=document.createElement("label");g.textContent="Description",g.setAttribute("for","description"),y.appendChild(g);const x=document.createElement("textarea");x.placeholder=c.description,x.id="description",y.appendChild(x);const S=document.createElement("div");S.classList.add("date-div"),u.appendChild(S);const A=document.createElement("label");A.textContent="Due Date",A.setAttribute("for","due-date"),S.appendChild(A);const D=document.createElement("input");D.type="date",D.value=c.dueDate?c.dueDate:"",D.id="due-date",S.appendChild(D);const w=document.createElement("div");w.classList.add("priority-list"),u.appendChild(w);const O=document.createElement("div");O.classList.add("priority-div"),w.appendChild(O);const N=document.createElement("label");N.textContent="Priority",N.setAttribute("for","priority"),O.appendChild(N);const q=document.createElement("input");q.type="checkbox",q.id="priority",O.appendChild(q);const T=document.createElement("div");T.classList.add("dropdown-div"),w.appendChild(T);const F=document.createElement("label");F.textContent="List",F.setAttribute("for","list"),T.appendChild(F);const I=document.createElement("select");I.id="list-dropdown",T.appendChild(I);const J=c.list||"All tasks",M=document.createElement("option");M.textContent="All tasks","All tasks"===J&&(M.selected=!0),I.appendChild(M),a().forEach((e=>{if(e){const t=document.createElement("option");t.textContent=e.name,e.name===J&&(t.selected=!0),I.appendChild(t)}})),c.priority&&(q.checked=!0),m.appendChild(u),r.appendChild(m),l.appendChild(r),C.addEventListener("click",(()=>{l.remove()})),E.addEventListener("click",(()=>{b.value||(b.value=b.placeholder),x.value||(x.value=x.placeholder),D.value||(D.value=D.placeholder);const e=I.value;i(new s(b.value,x.value,D.value,q.checked,e,c.done,c.id)),e!==J&&("All tasks"!==J&&function(e,t){if("All tasks"===e)return;const n=a().find((t=>t.name===e));console.log("targetlist",n),n?(n.todos=n.todos.filter((e=>e!==t)),d(n)):console.log("No list with that name.")}(J,c.id),"All tasks"!==e&&p(e,c.id)),p(e,c.id),t.remove(),k(),f()}))};let E=null,v=null;function f(){const e=document.querySelector(".lists"),t=document.querySelector(".all");e&&(v=t,e.innerHTML="",a().forEach((n=>{if(n){const d=document.createElement("div");d.classList.add("list-div");const o=document.createElement("p");o.textContent=n.name,d.appendChild(o),e.appendChild(d),d.addEventListener("click",(()=>{E=n.todos,d.style.backgroundColor="#8D99AE",b(E),v&&v!==d&&(v.style.backgroundColor="#EDF2F4"),"#8D99AE"==d.style.backgroundColor?(d.style.backgroundColor="#EDF2F4",v=null):(d.style.backgroundColor="#8D99AE",v=d)})),t.addEventListener("click",(()=>{b(),v=t,d.style.backgroundColor="#EDF2F4",v.style.backgroundColor="#8D99AE"}))}})))}let L=null;function b(e){const t=document.querySelector(".main-page");t&&(t.innerHTML="",c().forEach((n=>{if(n)if(null!=e){for(let d=0;d<e.length;d++)if(n.id==e[d]){const e=y(n);t.appendChild(e)}}else{const e=y(n);t.appendChild(e)}})))}function y(e){const t=document.createElement("div");t.classList.add("task-div");const n=document.createElement("img");n.classList.add("task-menu"),n.src="/src/Assets/menu.png",n.title="Show actions";const d=document.createElement("div");d.classList.add("task-btn");const o=document.createElement("button");o.classList.add("edit-btn"),o.textContent="Edit..";const c=document.createElement("button");c.classList.add("remove-btn"),c.textContent="Remove",d.appendChild(o),d.appendChild(c),t.appendChild(d),n.addEventListener("click",(()=>{L&&L!==d&&(L.style.display="none"),"block"===d.style.display?(d.style.display="none",L=null):(d.style.display="block",L=d)})),o.addEventListener("click",(()=>{C(e.id,t)})),c.addEventListener("click",(()=>{h(e.id,t)}));const a=document.createElement("h3");a.classList.add("task-title"),a.textContent=e.title;const l=document.createElement("p");l.textContent=e.description;const s=document.createElement("p");s.textContent=`Due: ${e.dueDate}`;const i=document.createElement("p");i.textContent="Priority: "+(e.priority?"High":"Normal");const p=document.createElement("p");p.textContent=`List: ${e.list}`;const m=document.createElement("div");m.classList.add("done-div");const u=document.createElement("input");u.classList.add("done-checkbox"),u.type="checkbox",u.id="done",u.title="Mark task as complete";const E=document.createElement("label");return E.textContent="Done",E.setAttribute("for","done"),m.appendChild(u),m.appendChild(E),e.done&&(a.style.textDecoration="line-through",u.checked=!0),u.addEventListener("change",(function(){this.checked?(a.style.textDecoration="line-through",r(e.id,!0)):(a.style.textDecoration="none",r(e.id,!1))})),t.appendChild(a),t.appendChild(l),t.appendChild(s),t.appendChild(i),t.appendChild(p),t.appendChild(n),t.appendChild(m),t}const k=function(){const e=document.querySelector(".content"),t=document.createElement("div");t.classList.add("page-header"),e.appendChild(t);const n=document.createElement("p");n.classList.add("site-name"),n.textContent="todo",t.appendChild(n);const d=document.createElement("img");d.src="/src/Assets/add.png",d.classList.add("add-task-btn"),d.title="Add task",t.appendChild(d),d.addEventListener("click",(()=>{!function(){const e=document.querySelector(".page-content");if(!e)return;if(document.querySelector(".task-form"))return;const t=document.createElement("div");t.classList.add("task-form"),e.appendChild(t);const n=document.createElement("div");n.classList.add("overlay");const d=document.createElement("div");d.classList.add("form-div");const o=document.createElement("form");o.classList.add("contact-form");const c=document.createElement("div");c.classList.add("btn-div"),o.appendChild(c);const l=document.createElement("button");l.classList.add("cancel-btn"),l.textContent="Cancel",c.appendChild(l);const r=document.createElement("button");r.classList.add("add-btn"),r.textContent="Add Task",c.appendChild(r);const m=document.createElement("div");m.classList.add("title-div"),o.appendChild(m);const u=document.createElement("label");u.textContent="Title",u.setAttribute("for","title"),m.appendChild(u);const h=document.createElement("input");h.type="text",h.placeholder="Add a title ...",h.id="title",m.appendChild(h);const C=document.createElement("div");C.classList.add("description-div"),o.appendChild(C);const E=document.createElement("label");E.textContent="Description",E.setAttribute("for","description"),C.appendChild(E);const v=document.createElement("textarea");v.placeholder="Add a description ...",v.id="description",C.appendChild(v);const f=document.createElement("div");f.classList.add("date-div"),o.appendChild(f);const L=document.createElement("label");L.textContent="Due Date",L.setAttribute("for","due-date"),f.appendChild(L);const b=document.createElement("input");b.type="date",b.id="due-date",f.appendChild(b);const y=document.createElement("div");y.classList.add("priority-list"),o.appendChild(y);const g=document.createElement("div");g.classList.add("priority-div"),y.appendChild(g);const x=document.createElement("label");x.textContent="Priority",x.setAttribute("for","priority"),g.appendChild(x);const S=document.createElement("input");S.type="checkbox",S.id="priority",g.appendChild(S);const A=document.createElement("div");A.classList.add("dropdown-div"),y.appendChild(A);const D=document.createElement("label");D.textContent="List",D.setAttribute("for","list"),A.appendChild(D);const w=document.createElement("select");w.id="list-dropdown",A.appendChild(w);const O=document.createElement("option");O.textContent="All tasks",w.appendChild(O),a().forEach((e=>{if(e){document.createElement("div").classList.add("list-div");const t=document.createElement("option");t.textContent=e.name,w.appendChild(t)}})),d.appendChild(o),n.appendChild(d),t.appendChild(n),l.addEventListener("click",(()=>{t.remove()})),r.addEventListener("click",(()=>{const e=i(new s(h.value,v.value,b.value,S.checked,w.value,!1));p(w.value,e),k()}))}()}));const o=document.createElement("div");o.classList.add("page-content"),e.appendChild(o);const c=document.createElement("div");c.classList.add("side-bar"),o.appendChild(c);const l=document.createElement("div");l.classList.add("main-page"),o.appendChild(l),document.addEventListener("DOMContentLoaded",(()=>{b(),f()}));const r=document.createElement("div");r.classList.add("all"),c.appendChild(r);const m=document.createElement("img");m.classList.add("icon-all"),m.src="/src/Assets/home.png",r.appendChild(m);const h=document.createElement("p");h.textContent="All tasks",r.appendChild(h),r.title="All tasks";const C=document.createElement("div");C.classList.add("lists"),c.appendChild(C);const E=document.createElement("div");E.classList.add("add-list"),c.appendChild(E);const v=document.createElement("img");v.src="/src/Assets/add.png",v.classList.add("add-task-btn"),E.appendChild(v),v.addEventListener("click",(()=>{u()}));const L=document.createElement("p");L.textContent="Create new list",L.classList.add("add-list-text"),E.appendChild(L)};k()})();