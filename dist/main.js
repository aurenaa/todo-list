(()=>{"use strict";function e(e){localStorage.setItem(`list-${e.id}`,JSON.stringify(e))}function t(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n.startsWith("list-")){const t=localStorage.getItem(n);e.push(JSON.parse(t))}}return e}function n(e){localStorage.removeItem(`task-${e}`)}function d(e){var t;return e.id=function(){let e=-1;for(let t=0;t<localStorage.length;t++){const n=JSON.parse(localStorage.getItem(localStorage.key(t)));n&&n.id>e&&(e=n.id)}return e+1}(),t=e,localStorage.setItem(`task-${t.id}`,JSON.stringify(t)),e.id}const c=class{constructor(e,t,n,d,c){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.list=c}};const a=class{constructor(e,t=[]){this.name=e,this.todos=t}},o=function(){const t=document.querySelector(".page-content");if(!t)return;if(document.querySelector(".list-form"))return;const n=document.createElement("div");n.classList.add("list-form"),t.appendChild(n);const d=document.createElement("div");d.classList.add("overlay");const c=document.createElement("div");c.classList.add("form-div-list");const o=document.createElement("form");o.classList.add("contact-form");const l=document.createElement("div");l.classList.add("btn-div"),o.appendChild(l);const s=document.createElement("button");s.classList.add("cancel-btn"),s.textContent="Cancel",l.appendChild(s);const i=document.createElement("button");i.classList.add("add-btn"),i.textContent="Add List",l.appendChild(i);const r=document.createElement("div");r.classList.add("name-div"),o.appendChild(r);const m=document.createElement("label");m.textContent="Name",m.setAttribute("for","name"),r.appendChild(m);const u=document.createElement("input");u.type="text",u.placeholder="Add name ...",u.id="name",r.appendChild(u),c.appendChild(o),d.appendChild(c),n.appendChild(d),s.addEventListener("click",(()=>{taskForm.remove()})),i.addEventListener("click",(()=>{let t=new a(u.value);var n;console.log(t),(n=t).id=function(){let e=-1;for(let t=0;t<localStorage.length;t++){const n=JSON.parse(localStorage.getItem(localStorage.key(t)));n&&n.id>e&&(e=n.id)}return e+1}(),e(n),p()}))},l=function(e,t){const d=document.querySelector(".page-content");if(!d)return;const c=document.createElement("div");c.classList.add("delete-todo"),d.appendChild(c);const a=document.createElement("div");a.classList.add("overlay"),d.appendChild(a);const o=document.createElement("h3");o.textContent="Confirmation?",c.appendChild(o),a.appendChild(c);const l=document.createElement("p");l.textContent="Are you sure you want to delete this task? This action cannot be undone.",c.appendChild(l);const s=document.createElement("div");s.classList.add("btn-div"),c.appendChild(s);const i=document.createElement("button");i.classList.add("cancel-btn"),i.textContent="Cancel",s.appendChild(i);const r=document.createElement("button");r.classList.add("delete-btn"),r.textContent="Delete",s.appendChild(r),i.addEventListener("click",(()=>{c.remove(),a.remove()})),r.addEventListener("click",(()=>{n(e),t.remove(),a.remove()}))},s=function(e,t){const a=document.querySelector(".page-content");if(!a)return;const o=function(e){const t=localStorage.getItem(e);return t?JSON.parse(t):(console.log("Task not found in local storage."),null)}(e);if(document.querySelector(".task-form"))return;const l=document.createElement("div");l.classList.add("task-form"),a.appendChild(l);const s=document.createElement("div");s.classList.add("overlay");const i=document.createElement("div");i.classList.add("form-div");const r=document.createElement("form");r.classList.add("contact-form");const p=document.createElement("div");p.classList.add("btn-div"),r.appendChild(p);const m=document.createElement("button");m.classList.add("cancel-btn"),m.textContent="Cancel",p.appendChild(m);const u=document.createElement("button");u.classList.add("edit-btn-form"),u.textContent="Edit",p.appendChild(u);const h=document.createElement("div");h.classList.add("title-div"),r.appendChild(h);const E=document.createElement("label");E.textContent="Title",E.setAttribute("for","title"),h.appendChild(E);const v=document.createElement("input");v.type="text",v.placeholder=o.title,v.id="title",h.appendChild(v);const L=document.createElement("div");L.classList.add("description-div"),r.appendChild(L);const f=document.createElement("label");f.textContent="Description",f.setAttribute("for","description"),L.appendChild(f);const b=document.createElement("textarea");b.placeholder=o.description,b.id="description",L.appendChild(b);const y=document.createElement("div");y.classList.add("date-div"),r.appendChild(y);const g=document.createElement("label");g.textContent="Due Date",g.setAttribute("for","due-date"),y.appendChild(g);const k=document.createElement("input");k.type="date",k.value=o.dueDate?o.dueDate:"",k.id="due-date",y.appendChild(k);const x=document.createElement("div");x.classList.add("priority-div"),r.appendChild(x);const S=document.createElement("label");S.textContent="Priority",S.setAttribute("for","priority"),x.appendChild(S);const A=document.createElement("input");A.type="checkbox",A.id="priority",x.appendChild(A),o.priority&&(A.checked=!0),i.appendChild(r),s.appendChild(i),l.appendChild(s),m.addEventListener("click",(()=>{l.remove()})),u.addEventListener("click",(()=>{v.value||(v.value=v.placeholder),b.value||(b.value=b.placeholder),k.value||(k.value=k.placeholder);let a=new c(v.value,b.value,k.value,A.checked,"Programming");console.log(a),d(a),t.remove(),n(e),C()}))};let i=null,r=null;function p(){const e=document.querySelector(".lists"),n=document.querySelector(".all");e&&(r=n,e.innerHTML="",t().forEach((t=>{if(t){const d=document.createElement("div");d.classList.add("list-div");const c=document.createElement("p");c.textContent=t.name,d.appendChild(c),e.appendChild(d),d.addEventListener("click",(()=>{i=t.todos,d.style.backgroundColor="#8D99AE",u(i),r&&r!==d&&(r.style.backgroundColor="#EDF2F4"),"#8D99AE"==d.style.backgroundColor?(d.style.backgroundColor="#EDF2F4",r=null):(d.style.backgroundColor="#8D99AE",r=d)})),n.addEventListener("click",(()=>{u(),r=n,d.style.backgroundColor="#EDF2F4",r.style.backgroundColor="#8D99AE"}))}})))}let m=null;function u(e){const t=document.querySelector(".main-page");t&&(t.innerHTML="",function(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);if(n.startsWith("task-")){const t=localStorage.getItem(n);e.push(JSON.parse(t))}}return e}().forEach((n=>{if(n)if(null!=e){for(let d=0;d<e.length;d++)if(n.id==e[d]){const e=h(n);t.appendChild(e)}}else{const e=h(n);t.appendChild(e)}})))}function h(e){const t=document.createElement("div");t.classList.add("task-div");const n=document.createElement("img");n.classList.add("task-menu"),n.src="/src/Assets/menu.png";const d=document.createElement("div");d.classList.add("task-btn");const c=document.createElement("button");c.classList.add("edit-btn"),c.textContent="Edit..";const a=document.createElement("button");a.classList.add("remove-btn"),a.textContent="Remove",d.appendChild(c),d.appendChild(a),t.appendChild(d),n.addEventListener("click",(()=>{m&&m!==d&&(m.style.display="none"),"block"===d.style.display?(d.style.display="none",m=null):(d.style.display="block",m=d)})),c.addEventListener("click",(()=>{s(e.id,t)})),a.addEventListener("click",(()=>{l(e.id,t)}));const o=document.createElement("h3");o.classList.add("task-title"),o.textContent=e.title;const i=document.createElement("p");i.textContent=e.description;const r=document.createElement("p");r.textContent=`Due: ${e.dueDate}`;const p=document.createElement("p");p.textContent="Priority: "+(e.priority?"High":"Normal");const u=document.createElement("p");u.textContent=`List: ${e.list}`;const h=document.createElement("div");h.classList.add("done-div");const C=document.createElement("input");C.classList.add("done-checkbox"),C.type="checkbox",C.id="done";const E=document.createElement("label");return E.textContent="Done",E.setAttribute("for","done"),h.appendChild(C),h.appendChild(E),C.addEventListener("change",(function(){this.checked?document.querySelector(".task-title").style.textDecoration="line-through":document.querySelector(".task-title").style.textDecoration="none"})),t.appendChild(o),t.appendChild(i),t.appendChild(r),t.appendChild(p),t.appendChild(u),t.appendChild(n),t.appendChild(h),t}const C=function(){const n=document.querySelector(".content"),a=document.createElement("div");a.classList.add("page-header"),n.appendChild(a);const l=document.createElement("p");l.classList.add("site-name"),l.textContent="todo",a.appendChild(l);const s=document.createElement("img");s.src="/src/Assets/add.png",s.classList.add("add-task-btn"),a.appendChild(s),s.addEventListener("click",(()=>{!function(){const n=document.querySelector(".page-content");if(!n)return;if(document.querySelector(".task-form"))return;const a=document.createElement("div");a.classList.add("task-form"),n.appendChild(a);const o=document.createElement("div");o.classList.add("overlay");const l=document.createElement("div");l.classList.add("form-div");const s=document.createElement("form");s.classList.add("contact-form");const i=document.createElement("div");i.classList.add("btn-div"),s.appendChild(i);const r=document.createElement("button");r.classList.add("cancel-btn"),r.textContent="Cancel",i.appendChild(r);const p=document.createElement("button");p.classList.add("add-btn"),p.textContent="Add Task",i.appendChild(p);const m=document.createElement("div");m.classList.add("title-div"),s.appendChild(m);const u=document.createElement("label");u.textContent="Title",u.setAttribute("for","title"),m.appendChild(u);const h=document.createElement("input");h.type="text",h.placeholder="Add a title ...",h.id="title",m.appendChild(h);const E=document.createElement("div");E.classList.add("description-div"),s.appendChild(E);const v=document.createElement("label");v.textContent="Description",v.setAttribute("for","description"),E.appendChild(v);const L=document.createElement("textarea");L.placeholder="Add a description ...",L.id="description",E.appendChild(L);const f=document.createElement("div");f.classList.add("date-div"),s.appendChild(f);const b=document.createElement("label");b.textContent="Due Date",b.setAttribute("for","due-date"),f.appendChild(b);const y=document.createElement("input");y.type="date",y.id="due-date",f.appendChild(y);const g=document.createElement("div");g.classList.add("priority-list"),s.appendChild(g);const k=document.createElement("div");k.classList.add("priority-div"),g.appendChild(k);const x=document.createElement("label");x.textContent="Priority",x.setAttribute("for","priority"),k.appendChild(x);const S=document.createElement("input");S.type="checkbox",S.id="priority",k.appendChild(S);const A=document.createElement("div");A.classList.add("dropdown-div"),g.appendChild(A);const D=document.createElement("label");D.textContent="List",D.setAttribute("for","list"),A.appendChild(D);const q=document.createElement("select");q.id="list-dropdown",A.appendChild(q);const N=document.createElement("option");N.textContent="All tasks",q.appendChild(N),t().forEach((e=>{if(e){document.createElement("div").classList.add("list-div");const t=document.createElement("option");t.textContent=e.name,q.appendChild(t)}})),l.appendChild(s),o.appendChild(l),a.appendChild(o),r.addEventListener("click",(()=>{a.remove()})),p.addEventListener("click",(()=>{let n=new c(h.value,L.value,y.value,S.checked,q.value);const a=d(n);!function(n,d){const c=t().find((e=>e.name===n));c?(c.todos.push(d),e(c)):console.log("No list with that name.")}(q.value,a),console.log(n.id),C()}))}()}));const i=document.createElement("div");i.classList.add("page-content"),n.appendChild(i);const r=document.createElement("div");r.classList.add("side-bar"),i.appendChild(r);const m=document.createElement("div");m.classList.add("main-page"),i.appendChild(m),document.addEventListener("DOMContentLoaded",(()=>{u(),p()}));const h=document.createElement("div");h.classList.add("all"),r.appendChild(h);const E=document.createElement("img");E.classList.add("icon-all"),E.src="/src/Assets/home.png",h.appendChild(E);const v=document.createElement("p");v.textContent="All tasks",h.appendChild(v);const L=document.createElement("div");L.classList.add("lists"),r.appendChild(L);const f=document.createElement("div");f.classList.add("add-list"),r.appendChild(f);const b=document.createElement("img");b.src="/src/Assets/add.png",b.classList.add("add-task-btn"),f.appendChild(b),b.addEventListener("click",(()=>{o()}));const y=document.createElement("p");y.textContent="Create new list",y.classList.add("add-list-text"),f.appendChild(y)};C()})();